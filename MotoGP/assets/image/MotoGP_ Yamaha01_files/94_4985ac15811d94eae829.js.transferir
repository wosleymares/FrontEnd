(window.webpackJsonp=window.webpackJsonp||[]).push([[94],{45:function(e,t,n){"use strict";n.r(t);var o=n(21);t.default=(e,t)=>{if(t.prime)return;if(!("gtmDataLayer"in window))return console.warn("GTM data layer not found");const n="nl"===gtmDataLayer[0].currentEdition,r=n;let s=!0,i=!1;const a=document.querySelector("#coral-comment-ad-template"),c=o.a.mobile()?5:8;let l;function d(e,t){const n=a.content.cloneNode(!0);s?e.insertBefore(n,e.firstElementChild):e.insertBefore(n,e.lastElementChild.nextElementChild)}const m=e=>s?e.firstElementChild.classList.contains("ms-apb"):e.lastElementChild.classList.contains("ms-apb");function u(){window.gtmDataLayer&&(window.bannerContainerReference=l.parentElement,window.gtmDataLayer.push({event:"bannersRender"}))}function f(){let e=!1;const t=1+(s?1:0);let n=Array.from(l.children);!!!n.find(m)&&n.length>=t&&(e=!0,d(n[t-1]),n=Array.from(l.children));const o=n.findIndex(e=>m(e)),r=n.findLastIndex(e=>m(e)),i=n.slice(0,o),a=n.slice(r+1);i.length<c&&a.length<c?e&&u():(w(i.reverse()),w(a),u())}function w(e,t){let n=0,o=c-(t?2:1);for(const t of e)n>0&&n%o==0&&d(t),n++}async function h(t="initial"){const o=e.element.querySelector("div");if(!o)return;o.classList.add("shadow-host","coral-shadow-host");const c=o.shadowRoot;if("open"!==c.mode)return console.warn("Shadow root is closed");if(!c||!a)return;if(l=c.querySelector('[data-test-id="virtuoso-item-list"]'),!l)return setTimeout(h,200);if(!window.msAdsServiceReady&&!window.adGrid&&!r)return setTimeout(h,200);try{const e=localStorage.getItem("coral:localState:commentsOrderBy");e&&(s=e.endsWith("_DESC"))}catch(e){}(e=>{if(!i&&(i=!0,n)){const t=document.createElement("script");t.type="text/javascript",t.src="https://mannenmedia.bbvms.com/a/nl_motorsport_com_outstream_2.js",e.appendChild(t)}})(c),f();new MutationObserver((e,t)=>{f()}).observe(l,{childList:!0})}e.on("ready",h),e.on("setCommentsOrderBy",()=>setTimeout(h,100)),e.on("setMainTab",e=>{"COMMENTS"===e.tab&&h(e)})}}}]);