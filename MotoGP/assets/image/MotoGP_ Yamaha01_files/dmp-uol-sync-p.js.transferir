!function(e){var t={};function r(n){if(t[n])return t[n].exports;var a=t[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)r.d(n,a,function(t){return e[t]}.bind(null,a));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=0)}([function(e,t,r){"use strict";function n(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function a(e){return function(){var t=this,r=arguments;return new Promise((function(a,o){var i=e.apply(t,r);function s(e){n(i,a,o,s,c,"next",e)}function c(e){n(i,a,o,s,c,"throw",e)}s(void 0)}))}}function o(e){return i.apply(this,arguments)}function i(){return(i=a((function*(e){var t=new TextEncoder("utf-8").encode(e),r=yield crypto.subtle.digest("SHA-256",t);return Array.from(new Uint8Array(r)).map((function(e){return("00"+e.toString(16)).slice(-2)})).join("")}))).apply(this,arguments)}function s(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){s(o,n,a,i,c,"next",e)}function c(e){s(o,n,a,i,c,"throw",e)}i(void 0)}))}}r.r(t);var u="https://udr.uol.com.br",l={pianoSyncData:null,sync:()=>c((function*(){yield l.syncUOLID(),yield Promise.all([l.syncTailTarget(),l.sendUOLIDToTailTarget(),l.syncPiano()])}))(),get:e=>c((function*(){return yield fetch(e,{credentials:"include"})}))(),hasTM(){try{return!!window.UOLPD.TagManager}catch(e){return!1}},hasCX(){try{return!!window.cX}catch(e){return!1}},syncUOLID(){var e=this;return c((function*(){var t,r=(yield e.getLocalData())||{},n=yield e.get("".concat(u,"/?scopes=base-assinantes,user-preferences,corporate,inscriptions")),a=yield n.json();e.pianoSyncData=(t=a,JSON.parse(JSON.stringify(t))),a.data={},Object.assign(r,a),e.persist(r)}))()},syncPiano(){var e=this;return c((function*(){if(yield new Promise(e=>setTimeout(e,3e3)),e.hasCX()){var t=e.pianoSyncData,r=e.formatPianoProfile(t);if(r.length){console.log("piano profile",r);var n="https://api.cxense.com/profile/user/external/update?callback={{callback}}&persisted="+encodeURIComponent("d221a64af0b728fa6a6c3d8a81c50c89340769c7")+"&json="+encodeURIComponent(cX.JSON.stringify({id:t.uolid,type:"tfh",profile:r}));cX.getCookie("T_PIANO")||(cX.jsonpRequest(n,(function(e){e.hasOwnProperty("httpStatus")&&200==e.httpStatus?(console.log("piano result: "),console.log(e)):console.log("No or bad http status")})),cX.setCookie("T_PIANO","t",30/1440))}}}))()},formatPianoProfile(e){var{data:t}=e,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Date,n=[],a=t["user-preferences"],o=t["base-assinantes"],i=t.corporate,s=t.inscriptions;if(o){n.push({group:"tfh-assinante-ponto-venda",item:o.ponto_venda}),n.push({group:"tfh-assinante-status",item:o.status_assinante}),n.push({group:"tfh-assinante-estacao",item:o.estacao}),n.push({group:"tfh-assinante-produto",item:o.produto});var c=new Date(o.dt_venda);if(n.push({group:"tfh-assinante-num-dias-venda",item:parseInt((r-c)/864e5)}),o.dt_cancelamento){var u=new Date(o.dt_cancelamento);n.push({group:"tfh-assinante-num-dias-cancel",item:parseInt((r-u)/864e5)})}}if(a){if(a.newsletter_assinaturas&&a.newsletter_assinaturas.length)for(var l of a.newsletter_assinaturas)n.push({group:"tfh-newsletter-assinaturas",item:l});a.preferencias&&Object.keys(a.preferencias).length&&(a.preferencias["bloco-customizado-esporte"]&&n.push({group:"tfh-preferencias-time",item:a.preferencias["bloco-customizado-esporte"]}),a.preferencias["bloco-customizado-mulher"]&&n.push({group:"tfh-preferencias-signo",item:a.preferencias["bloco-customizado-mulher"]}))}return o||!i||s&&s.activeProducts&&s.activeProducts.includes(32)||n.push({group:"tfh-assinante-status",item:"Cadastrado"}),n},persist(e){var t=JSON.stringify(e);this.setTargeting(e),this.persistDataLayer({UOLID:e.uolid}),this.persistLocal(t),this.hasTM()&&this.persistRemote(t)},setTargeting(e){var{uolid:t}=e;try{googletag.pubads().setTargeting("UOLID",t)}catch(e){}},persistLocal(e){localStorage.setItem("UDR.DATA",e)},getLocalData(){var e=this;return c((function*(){var t=localStorage.getItem("UDR.DATA");return t||e.hasTM()&&(t=yield e.getRemoteStorageData())?JSON.parse(t):null}))()},persistRemote(e){return this.persistOnRemoteStorage("UDR.DATA",e)},persistOnRemoteStorage:(e,t)=>new Promise(r=>{try{UOLPD.TagManager.Commons.RemoteStorage().set(e,t,(e,t)=>{r()})}catch(e){console.error(e),r()}}),getFromRemoteStorage:e=>new Promise(t=>{try{UOLPD.TagManager.Commons.RemoteStorage().get(e,(e,r)=>{t(r)})}catch(e){console.error(e),t(null)}}),getRemoteStorageData(){return this.getFromRemoteStorage("UDR.DATA")},getDataLayer(){var e=this;return c((function*(){var t=localStorage.getItem("uolDataLayer");return t&&"null"!==t&&"undefined"!==t||!e.hasTM()||(t=yield e.getFromRemoteStorage("uolDataLayer")),t&&"null"!==t&&"undefined"!==t?JSON.parse(t):{}}))()},getWindowDataLayer:()=>(window.UOLPD=window.UOLPD||{},window.UOLPD.dataLayer=window.UOLPD.dataLayer||{},window.UOLPD.dataLayer),persistDataLayer(e){var t=this;return c((function*(){var r=t.getWindowDataLayer();Object.assign(r,e);var n=yield t.getDataLayer();Object.assign(n,e),localStorage.setItem("uolDataLayer",JSON.stringify(n)),t.hasTM()&&t.persistOnRemoteStorage("uolDataLayer",JSON.stringify(n))}))()},syncTailTarget(){var e=this;return c((function*(){var t=yield e.getDataLayer(),r=t&&t.TailtargetTrack;if(r){var n="";for(var a in r)n+="".concat(a,":").concat(r[a],";");var o="".concat(u,"/store?scope=").concat("tt","&data=").concat(n);(yield e.isNewSync(o,"tt"))&&(yield e.get(o),yield e.saveSyncHash(o,"tt"))}}))()},saveSyncHash(e,t){var r=this;return c((function*(){var n=yield r.getLocalData(),{syncHashMap:a={}}=n,i=yield o(e);a[t]=i,n.syncHashMap=a,yield r.persist(n)}))()},isNewSync(e,t){var r=this;return c((function*(){var n=yield r.getLocalData(),{syncHashMap:a={}}=n,i=yield o(e);return a[t]!=i}))()},sendUOLIDToTailTarget(){var e=this;return c((function*(){var t=yield e.getLocalData(),r="https://m.t.tailtarget.com/sync/TT-10162-1/"+(yield o(t.uolid));document.createElement("img").setAttribute("src",r)}))()}};function p(e,t,r,n,a,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(n,a)}function d(e){return function(){var t=this,r=arguments;return new Promise((function(n,a){var o=e.apply(t,r);function i(e){p(o,n,a,i,s,"next",e)}function s(e){p(o,n,a,i,s,"throw",e)}i(void 0)}))}}var f={getCookies(e){var t={};return e&&e.split(";").forEach((function(e){var r=e.match(/(.*?)=(.*)$/);t[r[1].trim()]=(r[2]||"").trim()})),t},log(){var e=this;return d((function*(){try{if(Math.random()>.01||!/^https:\/\/www\.uol\.com\.br\/$/.test(window.location.href))return;var t=e.getBody();t.length&&(yield e.postData("https://logger.uol.com.br/v1/?prd=948&mm=true&disp=true",t))}catch(e){console.log("__CL__ERROR: ".concat(e.message))}}))()},getBody(){var e=this.getCookies(document.cookie),t=[];for(cookie in e){var r={measureMap:{cookie_size:e[cookie].length},groupingMap:{cookie_name:cookie,grouping_type:"cookie_logger",page_domain:document.location.host}};e.DNA&&(r.groupingMap.dna=e.DNA),t.push(r)}return t},postData(){var e=arguments;return d((function*(){var t=e.length>0&&void 0!==e[0]?e[0]:"",r=e.length>1&&void 0!==e[1]?e[1]:{};yield fetch(t,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})}))()}};l.sync(),f.log()}]);
