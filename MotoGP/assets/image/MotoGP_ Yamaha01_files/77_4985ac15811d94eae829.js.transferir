(window.webpackJsonp=window.webpackJsonp||[]).push([[77],{153:function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return cmpBubbles}));const cmpBubbles={config:{selector:"body",error:!1,ajaxGlobal:!0,minWidth:0},init:function(t){if(t&&t.constructor===Object)for(var e in t)this.config[e]=t[e];return this.listener(),this},options:{},groupName:!1,$element:[],$target:[],posX:0,posY:0,active:!1,timeout:null,hidetimeout:0,listener:function(){var t=this;$(document).on("touchstart scroll",(function(e){t.config.minWidth&&document.documentElement.clientWidth<t.config.minWidth||t.active&&$("[data-bubbles].active").trigger("mouseleave")})),$(this.config.selector).on("mousemove","[data-bubbles]",(function(e){if(!(t.config.minWidth&&document.documentElement.clientWidth<t.config.minWidth)){t.getPosition.call(t,e);var i=$(this).data();"move"in i&&!1!==i.move?t.setPosition.call(t):e.target==this&&(t.hidetimeout>=15?($(this).trigger("mouseleave"),t.hidetimeout=0):t.hidetimeout++)}})).on("mouseenter touchstart mousedown","[data-bubbles-target]",(function(t){t.stopPropagation()})).on("mouseenter.bubbles touchstart.bubbles mousedown.bubbles","[data-bubbles]",(function(e){if(!(t.config.minWidth&&document.documentElement.clientWidth<t.config.minWidth)){e.preventDefault(),t.hidetimeout=0;var i=0;"touchstart"==e.type&&(t.active&&$("[data-bubbles].active").trigger("mouseleave"),$(t.config.selector).off("mousedown.bubbles")),t.active=!0;var s=$(this),o=s.data(),a=o.bubbles||!1;if(!s.is(".disabled")&&!s.is(".wait")){if(o.propagation||e.stopPropagation(),a){if(a!=t.groupName){t.groupName=a,t.options={};var n=t.$getGroup(a);n.length&&n.each((function(){t.setOptions($(this).data())}))}}else t.groupName=!1,t.options={},t.setOptions(o);"mouseenter"==e.type&&(i=null==t.options.delay?300:t.options.delay?1e3*t.options.delay:0),o.extraParams?o.extraParams.constructor===Object?t.options.extraParams=o.extraParams:t.options.extraParams=t.extraParamsParse(o.extraParams):t.options.extraParams&&delete t.options.extraParams,void 0!==o.value?t.options.value=o.value:t.options.value&&delete t.options.value,void 0!==o.viewCache?t.options.viewCache=o.viewCache:t.options.viewCache&&delete t.options.viewCache,void 0!==o.title?t.options.title=o.title:t.options.title&&delete t.options.title,t.$element=s,t.$target=t.$getTarget(s);var r=this;clearTimeout(t.timeout),t.timeout=setTimeout((function(){t.options.url?t.options.viewCache?t.success(o,r):t.request(o,r):t.success(o,r)}),i),t.getPosition.call(t,e)}}})).on("mouseleave","[data-bubbles]",(function(e){t.config.minWidth&&document.documentElement.clientWidth<t.config.minWidth||(clearTimeout(t.timeout),t.hide(),t.$target.length&&t.$target.removeAttr("style"),t.$element=[],t.$target=[],t.active=!1)}))},extraParamsParse:function(params){return!!params&&(params.indexOf("{")<0&&(params="{"+params+"}"),eval("("+params+")"))},request:function(t,e){var i=this,s=this.options,o={},a=$(e);s.extraParams&&s.extraParams.constructor===Object&&(o=s.extraParams),void 0!==this.options.value&&(s.name?o[s.name]=this.options.value:o.value=this.options.value);var n={dataType:"json",url:s.url,cache:void 0===s.cache||s.cache,data:o,type:s.method||"GET",global:i.config.ajaxGlobal,beforeSend:function(s,o){a.addClass("wait");var n=i.beforeSend.call(i,t,e,s,o);return!1===n&&a.removeClass("wait"),n},success:function(o,n,r){a.removeClass("wait"),o&&o.constructor===Object?(i.success.call(i,t,e,o.status,o,n,r),null==s.viewCache&&!0===o.status&&a.data("view-cache",!0)):i.error.call(i,t,e,o,n,r)},error:function(s,o){a.removeClass("wait"),i.error.call(i,t,e,{},o,s)}};$.ajax(n)},error:function(t,e,i,s,o){this.config.error&&"function"==typeof this.config.error&&this.config.error.call(this,t,e,i,s,o)},beforeSend:function(t,e,i,s){this.config.beforeSend&&"function"==typeof this.config.beforeSend&&this.config.beforeSend.call(this,t,e,i,s)},getPosition:function(t){if("touchstart"==t.type){var e=t.originalEvent.changedTouches[0];this.posX=e.pageX-window.pageXOffset,this.posY=e.pageY-window.pageYOffset}else this.posX=t.pageX-window.pageXOffset,this.posY=t.pageY-window.pageYOffset},setPosition:function(){if(this.$target.length){var t=this.$target[0].getBoundingClientRect(),e=document.documentElement.clientWidth,i=document.documentElement.clientHeight,s=this.posY+1,o=this.posX+1;this.$target.attr("data-pos",1),this.posY+t.height>i&&(s=this.posY-this.$target.outerHeight()-1,this.$target.attr("data-pos",3)),this.posX+t.width>e&&(o=this.posX-this.$target.outerWidth()-1,this.$target.attr("data-pos",2)),this.posY+t.height>i&&this.posX+t.width>e&&this.$target.attr("data-pos",4),this.$target.css("top",s+"px"),this.$target.css("left",o+"px")}},show:function(){if(this.active){var t=this;this.$element.length&&this.$element.addClass("active"),this.$target.length&&(this.$target.removeClass("disabled").addClass("enabled"),setTimeout((function(){t.$target.length&&t.$target.addClass("show")}),1))}},hide:function(){this.$element.length&&this.$element.removeClass("active"),this.$target.length&&this.$target.removeClass("enabled show").addClass("disabled")},build:function(t,e){this.$target=$('<span data-bubbles-target class="disabled"></span>').html('<span class="bubbles-box">'+e+"</span>").appendTo(t)},success:function(t,e,i,s,o,a){if(!1!==i){var n=s&&s.html?s.html:t.title||"";!this.$target.length&&n&&(this.$target=this.$getTarget($(e)),this.$target.length||this.build.call(this,e,n)),this.setPosition.call(this),this.show.call(this)}else this.hide.call(this)},setOptions:function(t){for(var e in t)e in this.options||"value"==e||"extraParams"==e||"viewCache"==e||(this.options[e]=t[e])},$getGroup:function(t,e){return $('[data-bubbles="'+t+'"]',e||document.body)},$getTarget:function(t){return t.find("[data-bubbles-target]")}}},165:function(t,e,i){"use strict";i.r(e),i(153).a.init({minWidth:640,error:function(t,e,i,s,o){var a;window.cmpTrayAlert.show(null!==(a=o.responseJSON.message)&&void 0!==a?a:"Bad response (JSON)","error",30)}})}}]);